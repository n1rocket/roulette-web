<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS2 Roulette - Harley Quinn Edition</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Oswald:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/obs-optimized.css">
</head>
<body>
    <div class="container">
        <main class="main-content">
            <div class="roulette-section">
                <header class="header">
                    <h1 class="title">CS2 ROULETTE</h1>
                    <div class="subtitle">HARLEY QUINN EDITION</div>
                </header>
                
                <div class="roulette-container">
                    <div class="roulette-wrapper">
                        <canvas id="roulette" width="600" height="600"></canvas>
                        <div class="pointer"></div>
                    </div>
                    <button id="spinButton" class="spin-button">SPIN IT!</button>
                </div>
            </div>

            <div class="bottom-section">
                <button id="toggleConfig" class="config-toggle-button">
                    <span class="toggle-icon">⚙️</span>
                    <span class="toggle-text">CONFIGURACIÓN</span>
                </button>
                
                <div id="configPanel" class="config-panel collapsed">
                    <div class="panel-content">
                        <div class="panel-section">
                            <h3>OPCIONES</h3>
                            <div class="preset-selector">
                                <select id="presetSelect" class="preset-dropdown">
                                    <option value="">-- Seleccionar Preset --</option>
                                    <option value="cs2">Counter-Strike 2</option>
                                    <option value="valorant">Valorant</option>
                                    <option value="fortnite">Fortnite</option>
                                    <option value="apex">Apex Legends</option>
                                    <option value="lol">League of Legends</option>
                                    <option value="streaming">Streaming</option>
                                    <option value="challenges">Retos</option>
                                    <option value="decisions">Decisiones</option>
                                    <option value="minecraft">Minecraft</option>
                                    <option value="gta">GTA Roleplay</option>
                                </select>
                                <button id="loadPreset" class="preset-button">Cargar</button>
                            </div>
                            <div id="optionsList" class="options-list"></div>
                            <button id="addOption" class="add-button">+ AÑADIR OPCIÓN</button>
                        </div>
                        
                        <div class="panel-section">
                            <h3>ESTADÍSTICAS</h3>
                            <div id="stats" class="stats">
                                <div class="stat">
                                    <span class="stat-label">Total Spins:</span>
                                    <span id="totalSpins" class="stat-value">0</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">Sesión actual:</span>
                                    <span id="sessionSpins" class="stat-value">0</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">Última opción:</span>
                                    <span id="lastResult" class="stat-value">-</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">Más frecuente:</span>
                                    <span id="mostFrequent" class="stat-value">-</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-label">Racha actual:</span>
                                    <span id="currentStreak" class="stat-value">0</span>
                                </div>
                            </div>
                            <button id="resetStats" class="reset-stats-button">Resetear Estadísticas</button>
                            <div class="stats-details">
                                <h4>Detalle por Opción</h4>
                                <div id="optionStats" class="option-stats"></div>
                            </div>
                        </div>
                        
                        <div class="panel-section">
                            <h3>HISTORIAL</h3>
                            <ul id="history" class="history-list"></ul>
                        </div>
                        
                        <div class="panel-section">
                            <h3>CONFIGURACIÓN OBS</h3>
                            <div class="obs-settings">
                                <label class="setting-item">
                                    <input type="checkbox" id="obsMode" class="setting-checkbox">
                                    <span>Modo OBS</span>
                                </label>
                                <label class="setting-item">
                                    <input type="checkbox" id="compactMode" class="setting-checkbox">
                                    <span>Modo Compacto</span>
                                </label>
                                <label class="setting-item">
                                    <input type="checkbox" id="ultraCompactMode" class="setting-checkbox">
                                    <span>Ultra Compacto</span>
                                </label>
                                <label class="setting-item">
                                    <input type="checkbox" id="chromaMode" class="setting-checkbox">
                                    <span>Chroma Key (Verde)</span>
                                </label>
                                <label class="setting-item">
                                    <input type="checkbox" id="highContrastMode" class="setting-checkbox">
                                    <span>Alto Contraste</span>
                                </label>
                                <label class="setting-item">
                                    <input type="checkbox" id="performanceMode" class="setting-checkbox">
                                    <span>Modo Rendimiento</span>
                                </label>
                                <label class="setting-item">
                                    <input type="checkbox" id="alertMode" class="setting-checkbox">
                                    <span>Modo Alerta</span>
                                </label>
                                <label class="setting-item">
                                    <input type="checkbox" id="transparentMode" class="setting-checkbox">
                                    <span>Paneles Transparentes</span>
                                </label>
                                <label class="setting-item">
                                    <input type="checkbox" id="noHeaderMode" class="setting-checkbox">
                                    <span>Sin Título</span>
                                </label>
                                <label class="setting-item">
                                    <input type="checkbox" id="hideButton" class="setting-checkbox">
                                    <span>Ocultar Botón Girar</span>
                                </label>
                                <div class="setting-item">
                                    <label for="zoomLevel">Zoom:</label>
                                    <input type="range" id="zoomLevel" min="0.5" max="1.5" step="0.1" value="1" class="setting-range">
                                    <span id="zoomValue">100%</span>
                                </div>
                                <div class="setting-item">
                                    <label for="autoSpinInterval">Auto-girar (seg):</label>
                                    <input type="number" id="autoSpinInterval" min="0" max="300" value="0" class="setting-input">
                                    <small>(0 = desactivado)</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="panel-controls">
                            <button id="toggleTheme" class="control-button" title="Cambiar tema">🌙</button>
                            <button id="toggleSound" class="control-button" title="Sonido">🔊</button>
                            <button id="toggleTournament" class="control-button" title="Modo torneo">🏆</button>
                            <button id="exportConfig" class="control-button" title="Exportar">💾</button>
                            <button id="importConfig" class="control-button" title="Importar">📁</button>
                            <button id="copyOBSUrl" class="control-button" title="Copiar URL para OBS">🔗</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Result Modal -->
    <div id="resultModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">¡RESULTADO!</h2>
            </div>
            <div class="modal-body">
                <div id="resultText" class="result-text"></div>
                <div class="result-decoration">
                    <span class="star">⭐</span>
                    <span class="star">⭐</span>
                    <span class="star">⭐</span>
                </div>
            </div>
            <button id="closeModal" class="modal-close">CONTINUAR</button>
        </div>
    </div>

    <input type="file" id="importFile" accept=".json" style="display: none;">

    <audio id="spinSound" src="assets/sounds/spin.mp3" preload="auto" loop></audio>
    <audio id="winSound" src="assets/sounds/win.mp3" preload="auto"></audio>

    <script src="js/config.js"></script>
    <script src="js/presets.js"></script>
    <script src="js/roulette.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/app.js"></script>
    <script src="js/obs-helper.js"></script>
</body>
</html>